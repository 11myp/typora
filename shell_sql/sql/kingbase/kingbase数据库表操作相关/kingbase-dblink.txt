1、安装odbc
yum install unixODBC
2、配置ODBC数据源
vi /usr/local/etc/odbcinst.ini
[KingbaseV8R6]
Description = ODBC for KingbaseV8R6
Driver      = /home/kingbase/KingbaseES/V8/Interface/odbc/kdbodbcw.so
FileUsage   = 1
3、配置sys_dblink.conf
cp /home/kingbase/KingbaseES/V8/Server/share/sys_dblink.conf.sample /home/kingbase/KingbaseES/V8/data
vi /home/kingbase/KingbaseES/V8/data/sys_dblink.conf
[kingbaseV8R6_TEST]
DriverType=ODBC
DriverName="KingbaseV8R6"
Host=127.0.0.1
Port=54322
dbname=TEST
4、创建dblink
create database link r6 connect to 'system' identified by '123456' using 'KingbaseV8R6_TEST';
5、跨库查询
select * from tabname@dblink;


#224 主库：/home/kingbase/KingbaseES/V8/data/sys_dblink.conf配置文件
##########begin##############################################
# Databaselink configuration file
#
# A databaselink is a set of named connection parameters.  You may specify
# multiple databaselinks in this file.  Each starts with a databaselink name in  
# brackets.  Subsequent lines have connection configuration parameters of
# the pattern  "param=value".  A sample configuration for ORADB is 
# included in this file.  Lines beginning with '#' are comments.
#
#
#[oradb]
#DriverType=ODBC
#DriverName="Oracle ODBC Driver"
#Host=127.0.0.1
#Port=1521
#dbname=TEST
#ExtendedProperties=""

[kingbaseV8R3]
DriverType=ODBC
DriverName="KingbaseES V8R3 ODBC Driver"
Host=127.0.0.1
Port=54321
dbname=TEST
ExtendedProperties="UseServerCursor=1;Fetch=1000"

[kingbaseV8R6_incss1]
DriverType=ODBC
DriverName="KingbaseV8R6"
Host=10.253.87.225
Port=54321
dbname=incss1
#ExtendedProperties="UseServerCursor=1;Fetch=1000"

[kingbaseV8R6_incss2]
DriverType=ODBC
DriverName="KingbaseV8R6"
Host=10.253.87.226
Port=54321
dbname=incss2

[kingbaseV8R6_incss3]
DriverType=ODBC
DriverName="KingbaseV8R6"
Host=10.253.87.227
Port=54321
dbname=incss3

[kingbaseV8R6_incss4]
DriverType=ODBC
DriverName="KingbaseV8R6"
Host=10.253.87.228
Port=54321
dbname=incss4
###################end######################################


#############创建dblink连接到incss1##################
create database link incss1 connect to 'incsdba' identified by 'Cmit_incs0' using 'kingbaseV8R6_incss1';

#############创建dblink连接到incss2##################
create database link incss2 connect to 'incsdba' identified by 'Cmit_incs0' using 'kingbaseV8R6_incss2';

#############创建dblink连接到incss3##################
create database link incss3 connect to 'incsdba' identified by 'Cmit_incs0' using 'kingbaseV8R6_incss3';

#############创建dblink连接到incss4##################
create database link incss4 connect to 'incsdba' identified by 'Cmit_incs0' using 'kingbaseV8R6_incss4';

#############创建dblink连接到incss5##################
create database link incss5 connect to 'incsdba' identified by 'Cmit_incs0' using 'kingbaseV8R6_incss5';

##公用dblink
create public database link incss1 connect to 'incsdba' identified by 'Cmit_incs0' using 'kingbaseV8R6_incss1';
create public database link incss2 connect to 'incsdba' identified by 'Cmit_incs0' using 'kingbaseV8R6_incss2';
create public database link incss3 connect to 'incsdba' identified by 'Cmit_incs0' using 'kingbaseV8R6_incss3';
create public database link incss4 connect to 'incsdba' identified by 'Cmit_incs0' using 'kingbaseV8R6_incss4';
create public database link incss5 connect to 'incsdba' identified by 'Cmit_incs0' using 'kingbaseV8R6_incss5';

###删除dbLink
drop database link  incss1;

###查看创建的dbLink
select * from dba_db_links;

select * from kdb_database_link